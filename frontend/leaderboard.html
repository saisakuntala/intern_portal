<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Intern Leaderboard</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<style>
@media (max-width: 600px) {
  .card, .login-box, table { padding: 12px; width: 100%; }
  nav { flex-direction: column; align-items: flex-start;}
  .rewards-list { flex-direction: column; }
}
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    background: linear-gradient(135deg, #e0ecfc 0%, #ffffff 100%);
    margin: 0;
    min-height: 100vh;
    color: #222;
  }
  .card {
    background: #fff;
    box-shadow: 0 6px 18px rgba(60,100,200,0.09);
    border-radius: 14px;
    padding: 28px 30px;
    margin-bottom: 24px;
    transition: box-shadow 0.2s;
  }
  .card:hover { box-shadow: 0 12px 32px rgba(60,100,200,0.19);}
  h1, h2 { letter-spacing: 2px; }
  nav {
    margin-bottom: 30px;
    background: #eaf2fb;
    padding: 12px 24px;
    border-radius: 10px;
    box-shadow: 0 4px 16px #cce1fd55;
    display: flex;
    justify-content: flex-end;
    gap: 20px;
  }
  nav a {
    font-weight: bold;
    color: #2074F0;
    text-decoration: none;
    transition: color 0.2s;
    padding: 7px 18px;
    border-radius: 8px;
  }
  nav a:hover {
    color: #fff;
    background: linear-gradient(90deg, #36c3f3, #286ef7);
    box-shadow: 0 2px 8px #80d8ff44;
  }

    body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; background: #fafafa; }
    h1 { color: #333; }
    table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 0 5px #ddd; }
    th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ccc; }
    th { background: #007BFF; color: white; }
    nav a { margin-right: 15px; color: #007BFF; text-decoration: none; }
    nav a:hover { text-decoration: underline; }

  table {
    width: 98%;
    border-collapse: collapse;
    margin: 12px 0 12px 0;
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 7px 26px #bdbfff23;
  }
  th, td {
    padding: 13px 22px;
    font-size: 1.11rem;
    color: #232526;
    text-align: left;
  }
  th {
    background: linear-gradient(90deg, #6C47FF 60%, #24C6DC 100%);
    color: #fff;
    font-weight: bold;
    border-bottom: 5px solid #e7e9fc;
    letter-spacing: 1.2px;
  }
  tr:nth-child(even) { background: #f5f6fe; }
  tr:hover td { background: #f6f5ff; color: #6C47FF; }
  .first-place { background: linear-gradient(90deg, #FFD700 64%, #fff3bc 100%); color: #6C47FF;}
  .second-place { background: linear-gradient(90deg, #C0C0C0 64%, #E0E0E0 100%);}
  .third-place { background: linear-gradient(90deg, #CD7F32 64%, #FFDAB9 100%);}


  </style>
</head>
<body>
  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="leaderboard.html">Leaderboard</a>
    <a href="index.html">Logout</a>
  </nav>

  <h1>Leaderboard</h1>
  <table>
    <thead>
      <tr><th>Intern Name</th><th>Donations Raised</th></tr>
    </thead>
    <tbody id="leaderboardBody">
      <tr><td colspan="2">Loading...</td></tr>
    </tbody>
  </table>

  <script>
    async function loadLeaderboard() {
      try {
        const response = await fetch('http://localhost:5000/api/leaderboard');
        const data = await response.json();

        const tbody = document.getElementById('leaderboardBody');
        tbody.innerHTML = ''; // Clear loading text

        data.forEach(user => {
          const row = document.createElement('tr');
          const nameCell = document.createElement('td');
          const donationsCell = document.createElement('td');

          nameCell.textContent = user.name;
          donationsCell.textContent = '$' + user.donations.toLocaleString();

          row.appendChild(nameCell);
          row.appendChild(donationsCell);
          tbody.appendChild(row);
        });
      } catch (error) {
        console.error('Error loading leaderboard:', error);
        const tbody = document.getElementById('leaderboardBody');
        tbody.innerHTML = '<tr><td colspan="2">Error loading leaderboard data</td></tr>';
      }
    }

    loadLeaderboard();
    data.forEach((user, idx) => {
  const row = document.createElement('tr');
  row.innerHTML = `<td>${user.name}</td><td>$${user.donations.toLocaleString()}</td>`;
  if (idx === 0) row.classList.add('first-place');
  if (idx === 1) row.classList.add('second-place');
  if (idx === 2) row.classList.add('third-place');
  tbody.appendChild(row);
});

  </script>
</body>
</html>
